# THE13TH â€” Tenant Onboarding (SQLite)

This README documents the multi-tenant onboarding bundle generated by create_render_tenant_onboarding_bundle.py.

What this adds:
- SQLite database at data/tenants.db with a tenants table
- FastAPI router at app/tenants.py
- Per-tenant config folders under config/tenants/<tenant_id>/ with customization.json
- .env.production example with TENANTS_DB_PATH and RENDER_DEPLOY_HOOK
- Optional Render deploy hook trigger after commit/push

How to use:
1) Mount the router in your FastAPI app:
   from app.tenants import router as tenants_router
   app.include_router(tenants_router, prefix="/api/tenants")

2) Endpoints:
   - POST /api/tenants/
     Body: { "name": "<Tenant Name>" }
     Creates a tenant, generates an API key, creates config folder and customization.json, and persists to SQLite.
   - GET /api/tenants/
     Lists all tenants (most recent first).
   - GET /api/tenants/{tenant_id}
     Gets a single tenant.

3) Environment:
   - TENANTS_DB_PATH points to the SQLite DB (defaults to ./data/tenants.db)
   - RENDER_DEPLOY_HOOK can be used to trigger a Render deploy

Notes:
- The script is idempotent and will not overwrite existing files it created, unless you remove them first.
- Make sure to commit and push changes; the script attempts this automatically and logs results in logs/day7_tenants.log.
